<div class="container">
  <input type='file' accept='text/plain' multiple (change)='openFile($event)'>

  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div formArrayName="aliases">

      <div *ngFor="let alias of aliases.controls; let i=index">
        <!-- The repeated alias template -->
        <div class="card mt-5  bg-light mb-3">
          <div class="card-header">
            <label> Record {{i+1}} </label> &nbsp;&nbsp;
            <span class="text-right" style="cursor: pointer;" (click)="removeAlias(i)">X</span>
          </div>
          <div class="card-body">
            <h5 class="card-title"></h5>
            <div [formGroupName]="i">
              <div class="row">
                <div class="col-lg-4">
                  <div class="form-group">
                    <label> Title / App Name </label>
                    <input type="text" formControlName="title" class="form-control">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label> Username </label>
                    <input type="text" formControlName="username" class="form-control">
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label> Password </label>
                    <input type="password" formControlName="password" class="form-control">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label> URL </label>
                    <input type="text" formControlName="URL" class="form-control">
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label> Note </label>
                    <input type="text" formControlName="note" class="form-control">
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <div class="row p-5">
      <div class="col-lg-12">
        <button type="button" class="btn btn-dark btn-sm btn-block mt-2" (click)="addAlias()">Add New Record</button>
      </div>
    </div>

    <div class="row p-5">
      <div class="col-lg-12">
        <div class="form-group">
          <label> Main Secret Key </label>
          <input formControlName="mainpass" class="form-control">
        </div>
        <button [disabled]="!profileForm.valid" type="submit" class="btn btn-primary btn-sm btn-block">Encrypt &
          Download</button>
      </div>
      <!-- <p>        Form Status: {{ profileForm.status }}      </p> -->
    </div>


  </form>

</div>
